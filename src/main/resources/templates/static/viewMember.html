<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">
<head th:replace="partials/layout :: header">
    <meta charset="UTF-8" />
    <title>Index page</title>
</head>
<body>

<div th:replace="partials/layout :: navbar" />
<div class="h-100 main-container  mx-auto w-100 text-center">
    <div class="container">
        <!-- Static Header -->

        <div class="col-12 p-2 m-2">
            <div class="progress">
                <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100" style="width: 44%"></div>
            </div>
        </div>

        <div class="row">

                <!--Member Preview -->
                <div class="col-12 col-md-6 col-lg-3 mb-5">
                    <div class="card player-card">
                        <img class="card-img-top img-fluid"  th:src="${member.getPlayer().getPortrait()}" th:alt="${member.getPlayer().getName()}">

                        <div class="card-img-overlay">
                            <img th:src="${member.getAssignedJob().getImg()}" class="job-img" th:data-id="${member.getId()}">
                            <div class="text-left name" th:text="${member.getPlayer().getName()}">Faiyt Lee</div>
                        </div>
                        <div class="card-body text-left">
                            <div class="progress prog-bar">
                                <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100" style="width: 44%"></div>
                            </div>

                            <div class="col-12">
                                <div class="row">
                                    <span class="text-muted job-text">Job:</span>
                                    <div class="job-display">
                                        <span th:text="${member?.assignedJob?.name}"></span>
                                    </div>
                                    <i th:data-id="${member?.getId()}" class="edit-toggle material-icons">
                                        edit
                                    </i>
                                </div>
                                <div class="row w-100">

                                    <ul class="list-group">
                                        <li class="list-group-item">BIS: War DH/Crit (<a href="#">edit</a>)</li>
                                    </ul>

                                </div>
                            </div>

                        </div>
                        <div class="card-footer text-muted">
                            <a href="#" class="btn btn-sm btn-secondary">Loadstone</a>
                            <a href="#" class="btn btn-sm btn-danger">Remove</a>
                        </div>
                    </div>
                </div>

        <div class="col-9">
            <div class="row text-left">
                <div>Gear</div>
                <div class="col-12 card-container-dark p-2 m-2">

                    <div class="row">
                    <!--Gear Table -->
                    <div class="col-6">
                    <table class="table table-hover">
                        <thead>
                        <tr class="top">
                            <th colspan="3" class="text-left">Current Gear...</th>
                        </tr>
                        <tr class="text-left">
                            <th scope="col">Slot</th>
                            <th scope="col">Name</th>
                            <th scope="col" class="d-none d-sm-table-cell">iLvl</th>
                        </tr>
                        </thead>
                        <tbody>
                    <th:block th:each="gear : ${member.getAssignedGear().getGears()}">

                        <tr th:data-id="${gear.id}" >
                            <td>  <img th:src="${gear.slot.slot.getIcon()}" /> </td>
                            <td>   <a th:href="@{https://xivdb.com/item/} + ${gear.originalId}" th:text="${gear.name}"></a> </td>
                            <td>  <span th:text="${gear.iLvl}"></span> </td>
                        </tr>

                    </th:block>


                    <tr><td colspan="3">
                        <div class="text-center"><span class="text-muted">Gear outdated you can grab from lodestone? &nbsp;</span>
                            <a href="#" class="btn btn-sm btn-primary member-gear-sync" th:data-id="${member.getId()}">Sync Gear</a>
                        </tbody>
                    </td></tr>
                    </table>
                    </div>


                    <div class="col-6">
                        <table class="table table-hover">
                            <thead>
                            <tr class="top">
                                <th colspan="3" class="text-left">
                                    <div class="row m-0 p-0">
                                    <div class="text-left col-4 m-0 p-0"><span class="pr-1">BIS Gear...</span></div>
                                      <div class="text-right  m-0 p-0">
                                          <span>(PLD Crit/Det 4.2)</span>
                                          <button class="btn btn-sm btn-secondary">Change BIS</button>
                                      </div>
                                    </div> </th>
                            </tr>
                            <tr class="text-left">
                                <th scope="col">Slot</th>
                                <th scope="col">Name</th>
                                <th scope="col" class="d-none d-sm-table-cell">iLvl</th>
                            </tr>
                            </thead>
                            <tbody>
                            <th:block th:each="gear : ${member.getAssignedGear().getGears()}">

                                <tr th:data-id="${gear.id}" >
                                    <td>  <img th:src="${gear.slot.slot.getIcon()}" /> </td>
                                    <td>   <a th:href="@{https://xivdb.com/item/} + ${gear.originalId}" th:text="${gear.name}"></a> </td>
                                    <td>  <span th:text="${gear.iLvl}"></span> </td>
                                </tr>

                            </th:block>


                            <tr><td colspan="3">
                                <div class="text-center"><span class="text-muted">Some message that says things? &nbsp;</span><a th:href="@{/import/player}" class="btn btn-sm btn-primary">Yes</a></div>
                            </tbody>
                            </td></tr>
                        </table>
                    </div>

                    </div>
                </div>
            </div>
        </div>


        </div>

        </div>
</div>


    </div>
    <div th:replace="partials/layout :: footer" />
    <script src="https://secure.xivdb.com/tooltips.js"></script>
    <script th:src="@{~/built/static.js}"></script>
</body>
</html>