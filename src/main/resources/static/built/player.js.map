{"version":3,"sources":["webpack:///webpack/bootstrap 69feedca52f1615e14b2","webpack:///./src/main/resources/static/js/libs/local.js","webpack:///./src/main/resources/static/js/player.js","webpack:///./src/main/resources/static/js/libs/xibdb.js","webpack:///./src/main/resources/static/js/libs/objects.js"],"names":["module","exports","settings","url","rateLimit","token","$","attr","header","addData","location","data","fetch","method","credentials","headers","body","JSON","stringify","then","response","json","deleteData","getData","type","parameter","query","xiv","require","toPlayerObj","minLength","userInput","results","init","hide","initEvents","off","click","e","preventDefault","val","length","playerSearch","displaySearchData","catch","displayAlert","getPlayerdata","Player","submitPlayerData","empty","searchFor","each","characters","i","char","append","text","icon","name","server","id","playerObj","msg","addClass","show","search","encodeURI","getItemData","param","gender","avatar","portrait","loadstoneId","lodestone_id"],"mappings":"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","file":"player.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 11);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 69feedca52f1615e14b2","// Functions for local json file interactions\nmodule.exports = {\n\n    settings: { //settings\n        url: \"/api/\",\n        rateLimit: 5,\n        token: $(\"meta[name='_csrf']\").attr(\"content\"),\n        header: $(\"meta[name='_csrf_header']\").attr(\"content\")\n    },\n\n    //Inserts data into server\n    addData: (location, data) => {\n        location = typeof location !== 'undefined' ? location : \"\";\n        return fetch(location, {\n            method: \"post\",\n            credentials: \"same-origin\",\n            headers: {\n                \"X-CSRF-Token\": module.exports.settings.token,\n                \"Accept\": \"application/json\",\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify(data)\n        }).then(response => response.json());\n    },\n\n    deleteData: (location, data) => {\n        return module.exports.addData(location, data);\n    },\n\n    // query for post data\n    // parameter for url info\n    // ex: players/Name+Last/?post=3 type/parameter/query\n    getData: (type, parameter, query) => {\n        parameter = typeof parameter !== 'undefined' ? parameter : \"\";\n        query = typeof query !== 'undefined' ? query : \"\";\n\n        return fetch(module.exports.settings.url + type +\"/\"+ parameter + query)\n            .then(response => response.json());\n    }\n};\n\n\n// WEBPACK FOOTER //\n// ./src/main/resources/static/js/libs/local.js","const xiv = require('./libs/xibdb.js');\nconst {addData} = require('./libs/local.js');\nconst {toPlayerObj} = require('./libs/objects');\n\nmodule.exports = {\n\n        settings: { //settings\n            minLength: 3,\n            userInput: $('#user-input'),\n            results: $('#search-results')\n        },\n\n        init: () => {\n            $('#alert').hide();\n\n            module.exports.initEvents();\n        },\n\n        initEvents: () => {\n\n            //turns off events\n            $('.import').off();\n            $('#search').off();\n\n            // Search click submit\n            $('#search').click(function (e) {\n                e.preventDefault();\n                let query = module.exports.settings.userInput.val();\n\n                if (query.length > 3) {\n                    module.exports.playerSearch(query).then(data =>{\n                        module.exports.displaySearchData(data);\n                    }).catch(() => {\n                        module.exports.displayAlert(\"Error pulling search data.\",\"danger\");\n                    });\n                }\n            });\n\n            // Import data button\n            $('.import').click(function (e) {\n                e.preventDefault();\n                xiv.getPlayerdata($(this).data('id')).then(data => {\n                    let Player = toPlayerObj(data);\n                    module.exports.submitPlayerData(Player);\n                }).catch(() => {\n                    module.exports.displayAlert(\"Error with player data.\",\"danger\");\n                });\n            });\n\n\n\n\n        },\n\n        // Returns search results with player data in JSON\n        playerSearch: (query) => {\n            module.exports.settings.results.empty();\n            return xiv.searchFor(\"characters\",query);\n        },\n\n        // Prints display to results location\n        displaySearchData: (json) => {\n\n            $.each(json.characters.results, function (i, char) {\n\n                module.exports.settings.results.append(\n                    $(\"<tr>\").append(\n                        $('<th scope=\"row\" class=\"d-none d-sm-table-cell\">').text(i + 1),\n                        $('<td>').append(\n                            $(`<img src=${char.icon}>`)\n                        ),\n                        $('<td>').text(char.name),\n                        $('<td class=\"d-none d-sm-table-cell\">').text(char.server),\n                        $('<td>').append(\n                            $(`<button class=\"btn btn-secondary import\" data-id=\"${char.id}\">`).text('Import')\n                        )\n                    )\n                );\n\n            });\n\n            //init event handlers\n            module.exports.initEvents();\n        },\n\n        submitPlayerData: (playerObj) => {\n            return addData(\"/api/player/add\",playerObj).then(() => {\n                module.exports.displayAlert(\"Player added.\",\"success\");\n            }).catch(() => {\n                module.exports.displayAlert(\"Error saving player data.\",\"danger\");\n            });\n        },\n\n        displayAlert: (msg, type) => {\n            $('#alert-content').text(msg);\n            $('#alert').addClass(\"alert-\"+type).show();\n        }\n\n};\n\n\nmodule.exports.init();\n\n\n// WEBPACK FOOTER //\n// ./src/main/resources/static/js/player.js","module.exports = {\n\n    settings: { //settings\n        url: \"http://api.xivdb.com/\",\n        rateLimit: 5,\n    },\n\n    searchFor: function (type, search) {\n        type = typeof type !== 'undefined' ? type : '';\n        search = typeof search !== 'undefined' ? search : '';\n        search = encodeURI(search); // ensure proper encoding for url\n\n        return fetch(`${module.exports.settings.url}search?string=${search}&one=${type}`)\n            .then(response => response.json());\n    },\n\n    getItemData : (id,param) => {\n        return fetch(`${module.exports.settings.url}item/${id}`)\n            .then(response => response.json());\n    },\n\n    getPlayerdata: (id, param) => { // https://github.com/xivdb/api/blob/master/Character.md\n        param = typeof param !== 'undefined' ? `?data=${param}` : '';\n        return fetch(`${module.exports.settings.url}character/${id}`)\n            .then(response => response.json());\n    }\n\n};\n\n\n// WEBPACK FOOTER //\n// ./src/main/resources/static/js/libs/xibdb.js","\n// Take JSON data and represent as JSON object for input\nmodule.exports = {\n\n    settings: {\n\n    },\n\n    toPlayerObj: (json) => {\n        return {\n            name: json.data.name,\n            gender: (json.data.gender === \"male\") ? 0 : 1,\n            avatar: json.data.avatar,\n            server: json.data.server,\n            portrait: json.data.portrait,\n            loadstoneId: json.lodestone_id\n\n        };\n    }\n\n\n};\n\n\n// WEBPACK FOOTER //\n// ./src/main/resources/static/js/libs/objects.js"],"sourceRoot":""}